(this["webpackJsonpcorona-map"]=this["webpackJsonpcorona-map"]||[]).push([[0],{42:function(e,t,n){e.exports=n(55)},47:function(e,t,n){},48:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),l=(n(47),n(48),n(20)),c=n(22),s=n(23),u=n(26),m={closeBoxURL:"",enableEventPropagation:!0},d=function(e){var t=e.onPatientMarkerClicked,n=e.center,a=e.patients,o=e.zoom,i=e.currentPatientIndex;return r.a.createElement(u.c,{googleMapsApiKey:"AIzaSyBZolpm92zx6q9DIdM0xdo15AQuCkclyGs"},r.a.createElement(u.a,{mapContainerStyle:{height:"600px",width:"100%"},zoom:o,center:n},a.map((function(e,n){return r.a.createElement(u.d,{key:n,position:{lat:e.lat,lng:e.lng},onClick:function(){t(e,n)}})})),null!=i&&r.a.createElement(u.b,{position:n,options:m},r.a.createElement("div",{className:"info-box"},a[i].name))))},f=n(12),v=n.n(f),h=function(e){var t=e.name,n=e.address,a=e.note,o=e.verifyDate,i=v()(new Date(o)).format("DD/MM/YYYY");return r.a.createElement("ul",null,r.a.createElement("li",null,"T\xean: ",t),r.a.createElement("li",null,"\u0110\u1ecba ch\u1ec9: ",n),r.a.createElement("li",null,"Ghi ch\xfa: ",a),r.a.createElement("li",null,"Ng\xe0y x\xe1c nh\u1eadn: ",i))},p=n(39),E=n(40),b=n(31),g=n(82),y=r.a.memo((function(e){var t=e.data,n=e.index,a=e.style,o=t.items,i=t.onPatientListClicked,l=t.currentPatientIndex,c=o[n],s=n===l?"primary":"light",u=Object(E.a)({},a,{border:"1px solid #000000"});return r.a.createElement(g.a,{onClick:function(){return i(c,n)},variant:s,style:u},r.a.createElement("div",{className:"list-row"},c.name))}),b.b),w=r.a.memo((function(e){var t=e.patients,n=e.onPatientListClicked,o=e.currentPatientIndex,i=t.length,l=function(e,t,n){return{items:e,onPatientListClicked:t,currentPatientIndex:n}}(t,n,o),c=r.a.createRef();return Object(a.useEffect)((function(){null!=o&&c.current.scrollToItem(o)})),r.a.createElement("div",{className:"list-group"},r.a.createElement("h6",null,"Danh s\xe1ch b\u1ec7nh nh\xe2n"),r.a.createElement("div",{id:"list-component"},r.a.createElement(b.a,{ref:c,height:310,itemCount:i,itemSize:35,width:"100%",itemData:l},y)))})),k=n(76),D=n(79),x=n(78),C=n(81),j=n(38),O=n.n(j),P=n(37),S=n.n(P),Y=n(80),I=Object(k.a)({root:{width:"100%",padding:"10px"}}),A=function(e){var t=e.value,n=e.fromDate,a=e.toDate,o=e.onChange,i=e.maxValue,l=e.onAutoPlay,u=e.autoPlay,m=I(),d=[{value:0,label:v()(n).format("DD/MM/YYYY")},{value:i,label:v()(a).format("DD/MM/YYYY")}];return r.a.createElement("div",{className:m.root},r.a.createElement(x.a,{id:"continuous-slider",gutterBottom:!0},"Hi\u1ec3n th\u1ecb danh s\xe1ch b\u1ec7nh nh\xe2n theo ng\xe0y"),r.a.createElement(c.a,null,r.a.createElement(s.a,{xs:2},r.a.createElement(Y.a,{onClick:function(){return l()}},u?r.a.createElement(S.a,{style:{fontSize:50,color:"#3F51B5"}}):r.a.createElement(O.a,{style:{fontSize:50,color:"#3F51B5"}}))),r.a.createElement(s.a,{xs:10},r.a.createElement(D.a,{container:!0,spacing:2},r.a.createElement(D.a,{item:!0,xs:!0},r.a.createElement(C.a,{step:1,value:t||0,classes:{valueLabel:"value-label",rail:"rail",track:"track"},min:0,max:i,onChange:function(e,t){o(t)},"aria-labelledby":"continuous-slider",valueLabelFormat:function(e){return v()(n).add(e,"days").format("DD/MM/YYYY")},valueLabelDisplay:"on",marks:d}))))))},M=new Date("12/8/2019"),N=new Date,L=v()(N).diff(M,"days"),z=function(e,t){var n=0;return e.verifyDate>t.verifyDate?n=1:e.verifyDate<t.verifyDate&&(n=-1),-1*n},T=function(e,t){return e.filter((function(e){return t.diff(e.verifyDate,"days")>0}))},W=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(),u=Object(l.a)(i,2),m=u[0],f=u[1],E=Object(a.useState)([]),b=Object(l.a)(E,2),g=b[0],y=b[1],k=Object(a.useState)([]),D=Object(l.a)(k,2),x=D[0],C=D[1],j=Object(a.useState)(0),O=Object(l.a)(j,2),P=O[0],S=O[1],Y=Object(a.useState)(!1),I=Object(l.a)(Y,2),W=I[0],B=I[1],R=n?{lat:n.lat,lng:n.lng}:{lat:16.047079,lng:108.20623},G=n?12:6,U=function(e,t){B(!1),o(e),f(t)},V=Object(a.useCallback)((function(){var e=v()(M).add(P,"days"),t=T(x,e);y(t),o(null),f(null),S(P+1)}),[P,x]);return Object(a.useEffect)((function(){if(W){var e=setInterval(V,500);return function(){clearInterval(e)}}}),[W,V]),Object(a.useEffect)((function(){P>L&&(S(L),B(!1))}),[P]),Object(a.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/https://maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){return e.json()})).then((function(e){var t=e.data.sort(z);C(t);var n=T(t,v()(M));y(n)}))}),[]),r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{xs:8},r.a.createElement(d,{onPatientMarkerClicked:U,center:R,patients:g,zoom:G,currentPatientIndex:m})),r.a.createElement(s.a,{xs:4},r.a.createElement(c.a,{id:"patient-info"},r.a.createElement("h6",null,"Th\xf4ng tin b\u1ec7nh nh\xe2n"),r.a.createElement("div",null,n&&r.a.createElement(h,{name:n.name,address:n.address,note:n.note,verifyDate:n.verifyDate}))),r.a.createElement(c.a,null,r.a.createElement(w,{patients:g,onPatientListClicked:U,currentPatientIndex:m})))),r.a.createElement(A,{fromDate:M,toDate:N,value:P,maxValue:L,onChange:function(e){B(!1),S(e);var t=v()(M).add(e,"days"),n=T(x,t);y(n),o(null),f(null)},onAutoPlay:function(){B(!W)},autoPlay:W}))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(W,null))},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("h5",null,"TH\xd4NG TIN \u0110I\u1ec2M \u0110\u1ebeN C\u1ee6A C\xc1C CA D\u01af\u01a0NG T\xcdNH V\u1edaI SARS-CoV-2"),r.a.createElement(B,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/covid-map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covid-map","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.c40c79d2.chunk.js.map