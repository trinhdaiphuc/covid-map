(this["webpackJsonpcorona-map"]=this["webpackJsonpcorona-map"]||[]).push([[0],{209:function(e,t,a){e.exports=a(395)},214:function(e,t,a){},215:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(21),o=a.n(c),l=(a(214),a(215),a(27)),i=a(51),s=a(52),u=a(63),m={closeBoxURL:"",enableEventPropagation:!0},d=function(e){var t=e.onPatientMarkerClicked,a=e.center,n=e.patients,c=e.zoom,o=e.currentPatientIndex;return r.a.createElement(u.c,{googleMapsApiKey:"AIzaSyBZolpm92zx6q9DIdM0xdo15AQuCkclyGs"},r.a.createElement(u.a,{mapContainerStyle:{height:"600px",width:"100%"},zoom:c,center:a},n.map((function(e,a){return r.a.createElement(u.d,{key:a,position:{lat:e.lat,lng:e.lng},onClick:function(){t(e,a)}})})),null!=o&&r.a.createElement(u.b,{position:a,options:m},r.a.createElement("div",{className:"info-box"},n[o].name))))},h=a(23),f=a.n(h),v=function(e){var t=e.name,a=e.address,n=e.note,c=e.verifyDate,o=f()(new Date(c)).format("DD/MM/YYYY");return r.a.createElement("ul",null,r.a.createElement("li",null,"T\xean: ",t),r.a.createElement("li",null,"\u0110\u1ecba ch\u1ec9: ",a),r.a.createElement("li",null,"Ghi ch\xfa: ",n),r.a.createElement("li",null,"Ng\xe0y x\xe1c nh\u1eadn: ",o))},E=a(168),p=a(178),b=a(111),g=a(422),y=Object(n.memo)((function(e){var t=e.patients,a=e.onPatientListClicked,c=e.currentPatientIndex,o=t.length,l={patients:t,onPatientListClicked:a,currentPatientIndex:c},i=Object(n.useRef)(),s=Object(n.memo)((function(e){var t=e.data,a=e.index,n=e.style,c=t.patients,o=t.onPatientListClicked,l=t.currentPatientIndex,i=c[a],s=a===l?"primary":"light",u=Object(p.a)({},n,{border:"1px solid #000000"});return r.a.createElement(g.a,{onClick:function(){return o(i,a)},variant:s,style:u},r.a.createElement("div",{className:"list-row"},i.name))}),b.b);return Object(n.useEffect)((function(){null!=c&&i.current.scrollToItem(c)})),r.a.createElement("div",{className:"list-group"},r.a.createElement("h6",null,"Danh s\xe1ch b\u1ec7nh nh\xe2n"),r.a.createElement("div",{id:"list-component"},r.a.createElement(b.a,{ref:i,height:310,itemCount:o,itemSize:35,width:"100%",itemData:l},s)))})),k=a(416),j=a(419),N=a(418),w=a(421),x=a(167),O=a.n(x),D=a(166),C=a.n(D),S=a(420),B=Object(k.a)({root:{width:"100%",padding:"60px 0px 0px 0px"}}),P=function(e){var t=e.value,a=e.fromDate,n=e.toDate,c=e.onChange,o=e.maxValue,l=e.onAutoPlay,u=e.autoPlay,m=B(),d=[{value:0,label:f()(a).format("DD/MM/YYYY")},{value:o,label:f()(n).format("DD/MM/YYYY")}];return r.a.createElement("div",{className:m.root},r.a.createElement(N.a,{id:"continuous-slider",gutterBottom:!0},"Hi\u1ec3n th\u1ecb danh s\xe1ch b\u1ec7nh nh\xe2n theo ng\xe0y"),r.a.createElement(i.a,null,r.a.createElement(s.a,{xs:2},r.a.createElement(S.a,{onClick:function(){return l()}},u?r.a.createElement(C.a,{style:{fontSize:80,color:"#3F51B5"}}):r.a.createElement(O.a,{style:{fontSize:80,color:"#3F51B5"}}))),r.a.createElement(s.a,{xs:10},r.a.createElement(j.a,{container:!0,spacing:2},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(w.a,{step:1,value:t||0,classes:{valueLabel:"value-label",rail:"rail",track:"track"},min:0,max:o,onChange:function(e,t){c(t)},"aria-labelledby":"continuous-slider",valueLabelFormat:function(e){return f()(a).add(e,"days").format("DD/MM/YYYY")},valueLabelDisplay:"on",marks:d}))))))},I=new Date("12/8/2019"),A=new Date,Y=f()(A).diff(I,"days"),M=function(e,t){var a=0;return e.verifyDate>t.verifyDate?a=1:e.verifyDate<t.verifyDate&&(a=-1),-1*a},T=function(e,t){return e.filter((function(e){return t.diff(e.verifyDate,"days")>0}))},L=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),u=Object(l.a)(o,2),m=u[0],h=u[1],p=Object(n.useState)([]),b=Object(l.a)(p,2),g=b[0],k=b[1],j=Object(n.useState)([]),N=Object(l.a)(j,2),w=N[0],x=N[1],O=Object(n.useState)(0),D=Object(l.a)(O,2),C=D[0],S=D[1],B=Object(n.useState)(!1),L=Object(l.a)(B,2),K=L[0],z=L[1],F=a?{lat:a.lat,lng:a.lng}:{lat:16.047079,lng:108.20623},V=a?12:6,W=function(e,t){z(!1),c(e),h(t)},_=Object(n.useCallback)((function(){var e=f()(I).add(C,"days"),t=T(w,e);k(t),c(null),h(null),S(C+1)}),[C,w]);return Object(n.useEffect)((function(){if(K){var e=setInterval(_,500);return function(){clearInterval(e)}}}),[K,_]),Object(n.useEffect)((function(){C>Y&&(S(Y),z(!1))}),[C]),Object(n.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/https://maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){return e.json()})).then((function(e){var t=e.data.sort(M);x(t);var a=T(t,f()(I));k(a)}))}),[]),r.a.createElement("div",{id:"covid-dashboard"},r.a.createElement("h5",null,"TH\xd4NG TIN \u0110I\u1ec2M \u0110\u1ebeN C\u1ee6A C\xc1C CA D\u01af\u01a0NG T\xcdNH V\u1edaI SARS-CoV-2"),r.a.createElement(E.a,{fluid:!0},r.a.createElement(i.a,null,r.a.createElement(s.a,{xs:8},r.a.createElement(d,{onPatientMarkerClicked:W,center:F,patients:g,zoom:V,currentPatientIndex:m})),r.a.createElement(s.a,{xs:4},r.a.createElement(i.a,{id:"patient-info"},r.a.createElement("h6",null,"Th\xf4ng tin b\u1ec7nh nh\xe2n"),r.a.createElement("div",null,a&&r.a.createElement(v,{name:a.name,address:a.address,note:a.note,verifyDate:a.verifyDate}))),r.a.createElement(i.a,null,r.a.createElement(y,{patients:g,onPatientListClicked:W,currentPatientIndex:m})))),r.a.createElement(P,{fromDate:I,toDate:A,value:C,maxValue:Y,onChange:function(e){z(!1),S(e);var t=f()(I).add(e,"days"),a=T(w,t);k(a),c(null),h(null)},onAutoPlay:function(){z(!K)},autoPlay:K})))},K=a(11),z=function(e){var t=e.data,a=e.stroke;return r.a.createElement("div",{className:"stats"},r.a.createElement("h6",null,"Bi\u1ec3u \u0111\u1ed3 s\u1ed1 ca m\u1eafc m\u1edbi, s\u1ed1 ca nghi nhi\u1ec5m, s\u1ed1 ca kh\u1ecfi theo th\u1eddi gian Vi\u1ec7t Nam"),r.a.createElement(K.d,{width:600,height:400,data:t,margin:{top:5,right:5,left:0,bottom:5}},r.a.createElement(K.a,{strokeDasharray:"2 2"}),r.a.createElement(K.f,{dataKey:"date"}),r.a.createElement(K.g,null),r.a.createElement(K.e,null),r.a.createElement(K.b,null),r.a.createElement(K.c,{type:"monotone",dataKey:"Nhi\u1ec5m",stroke:a[0]}),r.a.createElement(K.c,{type:"monotone",dataKey:"Nghi Nhi\u1ec5m",stroke:a[1]}),r.a.createElement(K.c,{type:"monotone",dataKey:"B\xecnh ph\u1ee5c",stroke:a[2]})))},F=function(e){var t=e.data,a=e.stroke;return console.log("[INFO}:::: StatsGlobal -> stroke",a),r.a.createElement("div",{className:"stats"},r.a.createElement("h6",null,"Bi\u1ec3u \u0111\u1ed3 s\u1ed1 ca m\u1eafc m\u1edbi, s\u1ed1 ca t\u1eed vong, s\u1ed1 ca kh\u1ecfi theo th\u1eddi gian Th\u1ebf gi\u1edbi"),r.a.createElement(K.d,{width:600,height:400,data:t,margin:{top:5,right:5,left:25,bottom:5}},r.a.createElement(K.a,{strokeDasharray:"2 2"}),r.a.createElement(K.f,{dataKey:"date"}),r.a.createElement(K.g,null),r.a.createElement(K.e,null),r.a.createElement(K.b,null),r.a.createElement(K.c,{type:"monotone",dataKey:"Nhi\u1ec5m",stroke:a[0]}),r.a.createElement(K.c,{type:"monotone",dataKey:"T\u1eed vong",stroke:a[1]}),r.a.createElement(K.c,{type:"monotone",dataKey:"B\xecnh ph\u1ee5c",stroke:a[3]})))},V=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];console.log("[INFO}:::: StatsDashboard -> statsVN",a);var o=Object(n.useState)([]),u=Object(l.a)(o,2),m=u[0],d=u[1];console.log("[INFO}:::: statsGlobal",m);return Object(n.useEffect)((function(){fetch("https://td.fpt.ai/corona/corona-total.json").then((function(e){return e.json()})).then((function(e){var t;d((t=e,Object.keys(t).map((function(e){return{date:e,"Nhi\u1ec5m":t[e][0],"T\u1eed vong":t[e][1],"B\xecnh ph\u1ee5c":t[e][2]}}))))}))}),[]),Object(n.useEffect)((function(){fetch("https://td.fpt.ai/corona/corona-chart-vn.json").then((function(e){return e.json()})).then((function(e){var t;c((t=e,Object.keys(t).map((function(e){return{date:e,"Nhi\u1ec5m":t[e][0],"Nghi Nhi\u1ec5m":t[e][1],"B\xecnh ph\u1ee5c":t[e][2]}}))))}))}),[]),r.a.createElement("div",{id:"covid-stats"},r.a.createElement(E.a,{fluid:!0},r.a.createElement("h5",null,"Bi\u1ec3u \u0111\u1ed3 th\u1ed1ng k\xea s\u1ed1 ca m\u1eafc, nghi nhi\u1ec5m, b\xecnh ph\u1ee5c, t\u1eed vong c\u1ee7a Vi\u1ec7t Nam v\xe0 th\u1ebf gi\u1edbi"),r.a.createElement(i.a,null,r.a.createElement(s.a,{xs:6},r.a.createElement(z,{data:a,stroke:["#C44444","#66BB6A","#F7862D"]})),r.a.createElement(s.a,{xs:6},r.a.createElement(F,{data:m,stroke:["#C44444","#66BB6A","#F7862D"]})))))},W=a(49),_=function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement("nav",{className:"navbar"},r.a.createElement(W.b,{exact:!0,activeClassName:"navbar__link--active",className:"navbar__link",to:"/map"},"B\u1ea3n \u0111\u1ed3 Vi\u1ec7t Nam"),r.a.createElement(W.b,{activeClassName:"navbar__link--active",className:"navbar__link",to:"/stats"},"\u0110\u1ed3 th\u1ecb s\u1ed1 ca m\u1eafc Covid")))},G=a(35);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/map",component:L}),r.a.createElement(G.a,{exact:!0,path:"/stats",component:V}),r.a.createElement(G.a,{exact:!0,path:"/",component:L})))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W.a,null,r.a.createElement(R,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/covid-map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covid-map","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()}},[[209,1,2]]]);
//# sourceMappingURL=main.ce87341b.chunk.js.map